import{$d as O,Ad as Nt,Ba as ot,Bd as j,Cc as Mt,Ch as be,Db as st,Dc as N,De as pe,Dg as Ee,Eb as ct,Ee as T,Gb as pt,Gc as At,Gd as jt,Gg as Oe,Hc as yt,He as me,Hg as Te,Ic as xt,Id as wt,Ii as Ne,J as c,Ja as V,Jc as Rt,Jd as Dt,Ji as je,Kc as p,Kd as Ut,Ld as kt,Lg as Me,M as s,Mc as Pt,Md as Lt,N as h,Nb as P,Nc as bt,Ng as Ae,Oa as S,Ob as mt,Oe as le,P as y,Pa as C,Pe as M,Qa as I,Qe as D,Re as de,Se as U,T as K,Te as ue,Ue as fe,Ug as z,Vg as ye,Xa as it,Ze as he,_d as w,_i as mr,a as u,ac as lt,ae as pr,ah as xe,b as f,be as Ft,ce as Bt,dc as E,de as Ht,e as sr,ea as J,ee as Vt,f as A,fa as g,fe as Gt,ga as H,gb as nt,ge as zt,gh as Re,ha as X,hb as at,hc as dt,he as $t,hj as we,ic as ut,ie as Wt,ij as _,jc as ft,je as G,jf as _e,jj as De,k as $,kc as n,ke as Yt,kj as Ue,l as W,la as x,lc as ht,le as Zt,lj as ke,ma as m,mc as _t,me as Kt,mj as Le,nc as vt,ne as Jt,ng as Ie,nj as Fe,oa as Q,oc as gt,oe as Xt,og as Se,oj as l,p as Y,pc as b,pe as Qt,pg as Ce,q as F,qa as q,qb as R,qe as qt,rc as It,re as te,sa as tt,sc as St,se as ee,ta as et,tc as Ct,te as re,tf as ve,uc as Et,ue as oe,uf as ge,ve as ie,w as B,we as ne,x as Z,xc as Ot,xd as cr,xe as ae,yc as Tt,ye as se,yh as Pe,za as rt,ze as ce}from"./chunk-NKPUAKNE.js";var Be=sr(()=>{"use strict"});var Ve=A(pr()),Ge=A(Be());var lr=(()=>{class t{constructor(e,r,o,i,a){this.httpClient=e,this.transferState=r,this.userModel=o,this.moduleOptions=i,this.platformId=a}getTranslation(e){let r=new W(1),o=this.moduleOptions.appVersion;if(E(this.platformId)){let i=`${this.moduleOptions.environment.API_URLS.LOCALIZATION_URL}/${e}-${this.userModel.domain.toUpperCase()}.json`;o&&(i+=`?v=${o?.replaceAll(".","")}`);let a=new dt;a.set(Vt,!0).set($t,null).set(Gt,!0).set(zt,!0),this.httpClient.get(i,{context:a}).subscribe(v=>{r.next(v)})}else{let i=Ge.default.join(process.cwd(),p.FOLDERS.DIST,"browser","assets","i18n",`${e}-${this.userModel.domain?.toUpperCase()}.json`);try{let a=Ve.default.readFileSync(i,"utf-8"),v=JSON.parse(a);this.transferState.set(`${this.moduleOptions.environment.API_URLS.LOCALIZATION_URL}/${e}-${this.userModel.domain.toUpperCase()}.json?v=${o?.replaceAll(".","")||""}`,v),r.next(v)}catch(a){console.error("Error reading translations file",a),r.next({})}}return r}static{this.\u0275fac=function(r){return new(r||t)(s(ft),s(X),s(l),s("moduleOptions"),s(g))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ze={config:{prodMode:!pt(),availableLangs:["ru","en"],defaultLang:"ru"},loader:lr};var We=(()=>{class t{constructor(e){this.transferState=e}intercept(e,r){if(e.method==="GET"){let o=Ct(e.url),i=this.transferState.get(o,null);if(this.transferState.remove(o),i){let a=new ut({body:i,status:200});return Y(a)}}return r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)(s(Et))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ye=(()=>{class t{constructor(e){this.userModel=e}intercept(e,r){let o=e.clone(f(u({},e),{headers:e.headers.set("x-ca-vkorg",this.userModel.vkorg)}));return r.handle(o)}static{this.\u0275fac=function(r){return new(r||t)(s(l))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();var Ze=(()=>{class t{constructor(e){this.userModel=e}intercept(e,r){{let o=e.clone(f(u({},e),{headers:e.headers.set("x-ca-external-system",`IM_${this.userModel.domain?.toUpperCase()}`)}));return r.handle(o)}return r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)(s(l))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();var dr=(()=>{class t extends U{constructor(e,r,o){super(e,r,o,h(Q,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||t)(s(P),s(M),s(D))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();function ur(){return new de}function fr(t,k,e){return new fe(t,k,e)}var Ke=[{provide:D,useFactory:ur},{provide:U,useClass:dr},{provide:q,useFactory:fr,deps:[vt,U,et]}],hr=[{provide:M,useFactory:()=>new ue},{provide:H,useValue:"BrowserAnimations"},...Ke],Jr=[{provide:M,useClass:le},{provide:H,useValue:"NoopAnimations"},...Ke];function Je(){return tt("NgEagerAnimations"),[...hr]}var Xe=(()=>{class t{constructor(){this.sanitized=h(It),this.translocoService=h(T),this.sproitUiToastService=h(O),this.sproitUiModalService=h(he)}intercept(e,r){return r.handle(e).pipe(Z(o=>{if(o.status===521&&o.headers.get("Need-Auth")){let i=this.sanitized.bypassSecurityTrustHtml(`${o.error.arr_messages[0]?.text} </br> <a id="openAuth">${this.translocoService.translate("shared.Please-login")}</p>`);return this.sproitUiToastService.show({type:"E",text:i,sticky:!0}),setTimeout(()=>{document.getElementById("openAuth")?.addEventListener("click",()=>{this.openAuthorization()})},1e3),F(()=>{})}return F(()=>o)}))}openAuthorization(){this.sproitUiModalService.create(xe,{title:this.translocoService.translate("shared.Login-or-register"),closeOnEscape:!1,clickableBackground:!1,expandsOnPhone:!0,modalWindowClass:"authorization-modal"})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();var Qe=(()=>{class t{constructor(e){this.appGlobalSettings=e}intercept(e,r){if(e.url.includes("{{api_request}}")||e.url.includes("{{apiweb_request}}")){let o=this.appGlobalSettings?.serverLocationOrigin?.replace(/^https?:\/\//,"")||location.hostname,i=pe(this.appGlobalSettings?.vkorg);i&&(o=this.replaceDomainInHost(o,i));let a=e.clone(f(u({},e),{url:e.url.replace("{{api_request}}",o).replace("{{apiweb_request}}",o)}));return r.handle(a)}return r.handle(e)}replaceDomainInHost(e,r){let o=e.split(".");return o[o.length-1]=r,o.join(".")}static{this.\u0275fac=function(r){return new(r||t)(s(_))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();var qe=(()=>{class t{intercept(e,r){let o=p.API_TOKENS,i=Object.keys(o).find(a=>e.url.includes(`/${a.toLowerCase()}`));if(i){let a=o[i];e=e.clone({params:e.params.set("access-token",a)})}return r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac})}}return t})();mt(Pe);var tr={providers:[{provide:J,useValue:"server"},ct({eventCoalescing:!1}),Ie,At(we(),yt(),xt()),St(),ht(_t()),me(ze),Je(),K(bt.forRoot([j],{developmentMode:p.MODE.NAME!=="PROD"}),Dt.forRoot(G,{environment:p,useAuthorization:!1,showConsole:!1,appVersion:Rt.version}),w.forRoot()),{provide:n,useClass:We,multi:!0},{provide:n,useClass:Xe,multi:!0},{provide:n,useClass:Ye,multi:!0},{provide:n,useClass:Ae,multi:!0},{provide:n,useClass:Ze,multi:!0},{provide:n,useClass:qe,multi:!0},{provide:jt,useClass:l},{provide:st,multi:!0,useFactory:ke,deps:[l,T,N]},{provide:ve,useFactory:Le,deps:[l,T]},{provide:Ce,useFactory:()=>new $(f(u({},Se),{host:p.MODE.NAME==="DEV"?"by":void 0,autoHost:!0}))},{provide:_e,useFactory:t=>t.domain==="ru"?"RUB":"BYN",deps:[l]},{provide:ge,useFactory:Ue,deps:[_,g]},{provide:_,useFactory:De},{provide:Ne,useValue:je},{provide:kt,useExisting:z},{provide:Lt,useExisting:O},wt,lt,be,Oe,Te,Ee,Me,{provide:Bt,useValue:p},{provide:ce,useValue:!1},{provide:Yt,useExisting:z},{provide:Kt,useExisting:ye},{provide:n,useClass:ie,multi:!0},{provide:Ut,useValue:Ht},{provide:Ft,useExisting:l},{provide:Zt,useExisting:O},{provide:Wt,useExisting:G},{provide:n,useClass:ne,multi:!0},...p.MODE.NAME!=="DEV"?[{provide:n,useClass:Qe,multi:!0}]:[],{provide:n,useClass:ee,multi:!0},{provide:n,useClass:te,multi:!0},{provide:n,useClass:ae,multi:!0},{provide:n,useClass:se,multi:!0},{provide:n,useClass:Xt,multi:!0},{provide:n,useClass:re,multi:!0},{provide:n,useClass:oe,multi:!0},qt({getMessagesFromData(t){return t?.arr_messages??[]}}),{provide:n,useClass:Qt,multi:!0},{provide:n,useClass:Jt,multi:!0}]};var er=(()=>{class t{constructor(e,r){this.meta=e,this.document=r,this.meta.updateTag({property:"front-error:no-valid-cache",content:"true"}),setTimeout(()=>{this.document.location.reload()},6e4)}static{this.\u0275fac=function(r){return new(r||t)(m(b),m(P))}}static{this.\u0275cmp=y({type:t,selectors:[["mp-error-technical-maintenance"]],inputs:{messageText:"messageText"},standalone:!0,features:[R],decls:8,vars:1,consts:[[1,"error-technical-maintenance"],[1,"container"],[1,"error__container","error-technical-maintenance__container"],[1,"error__left","error-technical-maintenance__left"],["src","assets/images/logo-armtek-black.svg","alt","logo",1,"error-technical-maintenance__left_logo"],[1,"font__body1","error__left_text","error-technical-maintenance__left_text"],["src","assets/images/error-pages/error-technical-maintenance.webp","alt","Technical maintenance error",1,"error-technical-maintenance__img"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"img",4),S(5,"p",5),nt(6),C()(),I(7,"img",6),C()()()),r&2&&(x(6),at(o.messageText))},styles:[".error__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:16px;padding-bottom:25px}.error__left[_ngcontent-%COMP%]{order:2;display:flex;flex-direction:column;justify-content:center;gap:16px}.error__left_header[_ngcontent-%COMP%], .error__left_text[_ngcontent-%COMP%]{text-align:center}.error__left_btn[_ngcontent-%COMP%]{margin:0 auto}.error__img[_ngcontent-%COMP%]{order:1;width:240px;height:240px;object-fit:contain}.error__more_title[_ngcontent-%COMP%]{padding-bottom:16px}@media (min-width: 576px){.error__img[_ngcontent-%COMP%]{width:320px;height:320px}}@media (min-width: 768px){.error__img[_ngcontent-%COMP%]{width:500px;height:500px}}@media (min-width: 992px){.error__container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}.error__left[_ngcontent-%COMP%]{order:1}.error__left_header[_ngcontent-%COMP%], .error__left_text[_ngcontent-%COMP%]{text-align:left}.error__left_btn[_ngcontent-%COMP%]{margin-left:0}.error__img[_ngcontent-%COMP%]{order:2}}@media (min-width: 1400px){.error__img[_ngcontent-%COMP%]{width:672px}}",".error-technical-maintenance__container[_ngcontent-%COMP%]{height:100vh;flex-direction:column;justify-content:center}.error-technical-maintenance__left[_ngcontent-%COMP%]{order:1}.error-technical-maintenance__left_logo[_ngcontent-%COMP%]{display:block;margin:0 auto}.error-technical-maintenance__left_text[_ngcontent-%COMP%]{max-width:535px;text-align:center}.error-technical-maintenance__img[_ngcontent-%COMP%]{order:2;width:100%;height:80%;object-position:center;object-fit:contain}@media (min-width: 768px){.error-technical-maintenance__left_text[_ngcontent-%COMP%]{max-width:400px}}@media (min-width: 1200px){.error-technical-maintenance__container[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}.error-technical-maintenance__left_logo[_ngcontent-%COMP%]{margin-left:0}.error-technical-maintenance__left_text[_ngcontent-%COMP%]{max-width:535px;text-align:left}.error-technical-maintenance__img[_ngcontent-%COMP%]{width:auto;height:auto}}"]})}}return t})();function _r(t,k){t&1&&(S(0,"div",0),I(1,"router-outlet"),C())}function vr(t,k){if(t&1&&I(0,"mp-error-technical-maintenance",1),t&2){let e=it();ot("messageText",e.applicationError.text||"")}}var rr=(()=>{class t{constructor(e,r,o,i,a,v,ir,nr){this.router=e,this.appInitializationService=r,this.meta=o,this.cartModel=i,this.sproitCdkLocalStorageWorkerService=a,this.store=v,this.platformId=ir,this.appGlobalSettings=nr,this.env=p,this.isFirstInit=!1,p.MODE.NAME==="TEST"&&this.meta.addTag({name:"robots",content:"noindex, nofollow"});let ar=this.sproitCdkLocalStorageWorkerService.get("_d");this.isFirstInit=!ar?.login?.length,this.appInitializationService.init().finally(()=>{this.initAppStatus=!0,E(this.platformId)&&!this.isFirstInit&&(this.cartModel.updateHeaderCount(),this.cartModel.sendEmarsysCartState())}),this.stateSubscribe(),this.router.events.pipe(B(L=>L instanceof Tt)).subscribe(()=>{this.meta.updateTag({property:"og:url",content:E(this.platformId)?window.location.href:this.appGlobalSettings?.serverLocationOrigin||""})}),this.router.events.pipe(B(L=>L instanceof Ot)).subscribe(()=>{this.meta.removeTag('property="og:image"')})}stateSubscribe(){this.store.select(j.applicationError).subscribe(e=>{this.applicationError=e})}static{this.\u0275fac=function(r){return new(r||t)(m(N),m(Fe),m(b),m(Re),m(Nt),m(Pt),m(g),m(_,8))}}static{this.\u0275cmp=y({type:t,selectors:[["app-root"]],standalone:!0,features:[R],decls:2,vars:2,consts:[[1,"app-container"],[3,"messageText"]],template:function(r,o){r&1&&rt(0,_r,2,0,"div",0)(1,vr,1,1,"mp-error-technical-maintenance",1),r&2&&(V(0,o.initAppStatus&&o.applicationError.status!==503?0:-1),x(),V(1,o.applicationError.status===503?1:-1))},dependencies:[Mt,er,w],styles:[".app-container[_ngcontent-%COMP%]{min-width:unset;display:flex;flex-direction:column;overflow:unset;position:relative}@media (max-width: 1200px){.weblayer-container[_ngcontent-%COMP%]{top:50%!important;left:50%!important;transform:translate(-50%,-50%);width:unset!important;border-radius:8px!important}}"]})}}return t})();var or=A(cr()),Ii=A(mr());or.default.locale("ru");gt(rr,tr).catch(t=>console.error(t));
